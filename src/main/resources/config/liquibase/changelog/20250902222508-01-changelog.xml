<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.29.xsd"
  objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
  <changeSet id="1756844708658-1" author="halimzaaim">
    <createTable tableName="bonus">
      <column name="id" type="${uuidType}">
        <constraints nullable="false" primaryKey="true" primaryKeyName="pk_bonus"/>
      </column>
      <column name="employee_id" type="${uuidType}">
        <constraints nullable="false"/>
      </column>
      <column name="type" type="VARCHAR(255)">
        <constraints nullable="false"/>
      </column>
      <column name="amount" type="DECIMAL">
        <constraints nullable="false"/>
      </column>
      <column name="award_date" type="DATE">
        <constraints nullable="false"/>
      </column>
      <column name="payment_date" type="DATE"/>
      <column name="is_paid" type="BOOLEAN">
        <constraints nullable="false"/>
      </column>
      <column name="description" type="VARCHAR(500)"/>
      <column name="is_taxable" type="BOOLEAN">
        <constraints nullable="false"/>
      </column>
      <column name="currency_id" type="${uuidType}">
        <constraints nullable="false"/>
      </column>
      <column name="created_by" type="VARCHAR(50)">
        <constraints nullable="false"/>
      </column>
      <column name="created_date" type="DATETIME"/>
      <column name="last_modified_by" type="VARCHAR(50)"/>
      <column name="last_modified_date" type="DATETIME"/>
    </createTable>
  </changeSet>
  <changeSet id="1756844708658-2" author="halimzaaim">
    <createTable tableName="deduction">
      <column name="id" type="${uuidType}">
        <constraints nullable="false" primaryKey="true" primaryKeyName="pk_deduction"/>
      </column>
      <column name="employee_id" type="${uuidType}">
        <constraints nullable="false"/>
      </column>
      <column name="type" type="VARCHAR(255)">
        <constraints nullable="false"/>
      </column>
      <column name="amount" type="DECIMAL"/>
      <column name="percentage" type="DECIMAL"/>
      <column name="effective_from" type="DATE">
        <constraints nullable="false"/>
      </column>
      <column name="effective_to" type="DATE"/>
      <column name="description" type="VARCHAR(255)">
        <constraints nullable="false"/>
      </column>
      <column name="is_pre_tax" type="BOOLEAN">
        <constraints nullable="false"/>
      </column>
      <column name="currency_id" type="${uuidType}">
        <constraints nullable="false"/>
      </column>
      <column name="created_by" type="VARCHAR(50)">
        <constraints nullable="false"/>
      </column>
      <column name="created_date" type="DATETIME"/>
      <column name="last_modified_by" type="VARCHAR(50)"/>
      <column name="last_modified_date" type="DATETIME"/>
    </createTable>
  </changeSet>
  <changeSet id="1756844708658-3" author="halimzaaim">
    <createTable tableName="employee_benefit">
      <column name="id" type="${uuidType}">
        <constraints nullable="false" primaryKey="true" primaryKeyName="pk_employee_benefit"/>
      </column>
      <column name="employee_id" type="${uuidType}">
        <constraints nullable="false"/>
      </column>
      <column name="type" type="VARCHAR(255)">
        <constraints nullable="false"/>
      </column>
      <column name="employer_cost" type="DECIMAL"/>
      <column name="employee_cost" type="DECIMAL"/>
      <column name="effective_from" type="DATE">
        <constraints nullable="false"/>
      </column>
      <column name="effective_to" type="DATE"/>
      <column name="status" type="VARCHAR(255)">
        <constraints nullable="false"/>
      </column>
      <column name="plan_name" type="VARCHAR(100)">
        <constraints nullable="false"/>
      </column>
      <column name="plan_details" type="TEXT"/>
      <column name="currency_id" type="${uuidType}">
        <constraints nullable="false"/>
      </column>
      <column name="created_by" type="VARCHAR(50)">
        <constraints nullable="false"/>
      </column>
      <column name="created_date" type="DATETIME"/>
      <column name="last_modified_by" type="VARCHAR(50)"/>
      <column name="last_modified_date" type="DATETIME"/>
    </createTable>
  </changeSet>
  <changeSet id="1756844708658-4" author="halimzaaim">
    <createTable tableName="tax_withholding">
      <column name="id" type="${uuidType}">
        <constraints nullable="false" primaryKey="true" primaryKeyName="pk_tax_withholding"/>
      </column>
      <column name="employee_id" type="${uuidType}">
        <constraints nullable="false"/>
      </column>
      <column name="type" type="VARCHAR(255)">
        <constraints nullable="false"/>
      </column>
      <column name="rate" type="DECIMAL">
        <constraints nullable="false"/>
      </column>
      <column name="effective_from" type="DATE">
        <constraints nullable="false"/>
      </column>
      <column name="effective_to" type="DATE"/>
      <column name="tax_authority" type="VARCHAR(100)">
        <constraints nullable="false"/>
      </column>
      <column name="tax_identifier" type="VARCHAR(50)"/>
      <column name="year_to_date_amount" type="DECIMAL"/>
      <column name="created_by" type="VARCHAR(50)">
        <constraints nullable="false"/>
      </column>
      <column name="created_date" type="DATETIME"/>
      <column name="last_modified_by" type="VARCHAR(50)"/>
      <column name="last_modified_date" type="DATETIME"/>
    </createTable>
  </changeSet>
  <changeSet id="1756844708658-5" author="halimzaaim">
    <addForeignKeyConstraint baseColumnNames="currency_id" baseTableName="bonus" constraintName="FK_BONUS_ON_CURRENCY"
                             referencedColumnNames="id" referencedTableName="currency"/>
  </changeSet>
  <changeSet id="1756844708658-6" author="halimzaaim">
    <addForeignKeyConstraint baseColumnNames="employee_id" baseTableName="bonus" constraintName="FK_BONUS_ON_EMPLOYEE"
                             referencedColumnNames="id" referencedTableName="employee"/>
  </changeSet>
  <changeSet id="1756844708658-7" author="halimzaaim">
    <addForeignKeyConstraint baseColumnNames="currency_id" baseTableName="deduction"
                             constraintName="FK_DEDUCTION_ON_CURRENCY" referencedColumnNames="id"
                             referencedTableName="currency"/>
  </changeSet>
  <changeSet id="1756844708658-8" author="halimzaaim">
    <addForeignKeyConstraint baseColumnNames="employee_id" baseTableName="deduction"
                             constraintName="FK_DEDUCTION_ON_EMPLOYEE" referencedColumnNames="id"
                             referencedTableName="employee"/>
  </changeSet>
  <changeSet id="1756844708658-9" author="halimzaaim">
    <addForeignKeyConstraint baseColumnNames="currency_id" baseTableName="employee_benefit"
                             constraintName="FK_EMPLOYEE_BENEFIT_ON_CURRENCY" referencedColumnNames="id"
                             referencedTableName="currency"/>
  </changeSet>
  <changeSet id="1756844708658-10" author="halimzaaim">
    <addForeignKeyConstraint baseColumnNames="employee_id" baseTableName="employee_benefit"
                             constraintName="FK_EMPLOYEE_BENEFIT_ON_EMPLOYEE" referencedColumnNames="id"
                             referencedTableName="employee"/>
  </changeSet>
  <changeSet id="1756844708658-11" author="halimzaaim">
    <addForeignKeyConstraint baseColumnNames="employee_id" baseTableName="tax_withholding"
                             constraintName="FK_TAX_WITHHOLDING_ON_EMPLOYEE" referencedColumnNames="id"
                             referencedTableName="employee"/>
  </changeSet>

</databaseChangeLog>
